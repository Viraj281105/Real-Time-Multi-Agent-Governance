# infra/.env.example
# Copy this to .env and customize for your environment

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql+asyncpg://governance_user:governance_pass@localhost:5432/governance_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false  # Set to true for SQL query logging

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# ============================================================================
# MARKET FEED CONFIGURATION
# ============================================================================
# Mode: 'live' or 'replay'
MARKET_FEED_MODE=replay
# For live mode
BINANCE_WS_URL=wss://stream.binance.com:9443/ws/btcusdt@trade
# For replay mode
REPLAY_FILE=./sample.csv
REPLAY_SPEED=1.0
REPLAY_REALTIME=false

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================
# Comma-separated list of agent IDs to enable
ENABLED_AGENTS=agent.market.1,agent.risk.1
# Agent update interval in milliseconds
AGENT_TICK_INTERVAL=100

# ============================================================================
# GOVERNANCE CONFIGURATION
# ============================================================================
# Minimum votes required for proposal approval
GOVERNANCE_MIN_VOTES=2
# Approval threshold (0.51 = 51%)
GOVERNANCE_APPROVAL_THRESHOLD=0.51
# Proposal timeout in milliseconds
GOVERNANCE_PROPOSAL_TIMEOUT=100
# Conflict resolution strategy: 'priority_based', 'vote_based', 'reject_both'
GOVERNANCE_CONFLICT_RESOLUTION=priority_based

# ============================================================================
# EXECUTION CONFIGURATION
# ============================================================================
EXEC_LOG=./logs/execution.log
# Enable state snapshots for rollback
EXEC_ENABLE_SNAPSHOTS=true
# Snapshot interval (every N actions)
EXEC_SNAPSHOT_INTERVAL=100

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
# CORS origins (comma-separated)
API_CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# API rate limiting (requests per minute)
API_RATE_LIMIT=1000

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=./logs/app.log
LOG_ROTATION=100 MB
LOG_RETENTION=7 days

# ============================================================================
# MONITORING & METRICS
# ============================================================================
# Enable Prometheus metrics endpoint
ENABLE_METRICS=true
METRICS_PORT=9090
# Enable latency profiling
ENABLE_LATENCY_PROFILING=true

# ============================================================================
# SECURITY (Production)
# ============================================================================
# API Key for internal service communication
INTERNAL_API_KEY=change-me-in-production
# JWT secret for authentication
JWT_SECRET=change-me-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# ============================================================================
# DEVELOPMENT OPTIONS
# ============================================================================
# Auto-reload on code changes
DEV_AUTO_RELOAD=true
# Enable debug mode
DEBUG=false
# Seed database with test data
SEED_TEST_DATA=false